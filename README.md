# 视频抽帧工具

这是一个用于视频抽帧的桌面应用程序，支持 Mac 和 Windows 系统。该工具可以帮助用户快速处理视频文件，通过智能抽帧来减少视频文件大小，同时保持视频的流畅性。

## 主要功能

### 1. 视频信息分析
- 自动获取视频基本信息：
  - 总帧数
  - 帧率（FPS）
  - 视频时长
- 实时显示视频处理参数和预期效果

### 2. 智能抽帧处理
- 支持自定义抽帧间隔（每 N 帧保留 1 帧）
- 自动计算并显示预计保留的帧数
- 保持视频的连续性和流畅性
- 使用 H.264 编码确保输出视频质量

### 3. 用户友好的界面
- 简洁直观的操作界面
- 实时显示处理进度
- 支持拖放选择视频文件
- 自动生成输出文件名（在原文件名前添加"抽帧_"前缀）

### 4. 进度监控
- 实时显示处理进度百分比
- 显示当前处理的帧数
- 处理完成后自动提示

### 5. 输出管理
- 自动选择输出路径（与原视频相同目录）
- 处理完成后可选择直接打开输出文件夹
- 支持覆盖已存在的文件

### 6. 错误处理
- 完善的错误提示机制
- 自动检测 ffmpeg 环境
- 处理异常情况并提供清晰的错误信息

## 技术特点

1. 使用 ffmpeg 作为核心处理引擎
2. 支持多种视频格式（mp4, avi, mov, mkv, flv, wmv）
3. 优化的视频处理算法
4. 跨平台支持（Mac/Windows）
5. 自动处理系统路径和权限问题

## 系统要求

- Mac 系统：macOS 10.15 或更高版本
- Windows 系统：Windows 10 或更高版本
- 需要安装 Python 3.8 或更高版本

## 安装说明

### Mac 系统

1. 确保已安装 Python 3.8 或更高版本
2. 安装必要的依赖：
   ```bash
   pip install -r requirements.txt
   ```
3. 安装 ffmpeg：
   ```bash
   brew install ffmpeg
   ```

### Windows 系统

1. 确保已安装 Python 3.8 或更高版本
2. 安装必要的依赖：
   ```bash
   pip install -r requirements.txt
   ```
3. 安装 ffmpeg：
   - 从 [ffmpeg官网](https://ffmpeg.org/download.html) 下载 Windows 版本
   - 将 ffmpeg 添加到系统环境变量

## 代码说明

### Mac 版本 (app-mac.py)

- 这是 Mac 系统专用的版本，代码已经针对 Mac 系统进行了优化
- 代码已经稳定，不建议修改，因为：
  1. 已经处理了 Mac 系统特有的路径和权限问题
  2. 包含了 Mac 系统下 ffmpeg 和 ffprobe 的正确路径处理
  3. 界面布局已经针对 Mac 系统进行了优化

### Windows 版本 (app-windows.py)

- 这是 Windows 系统专用的版本
- 如果要将 Mac 版本的代码同步到 Windows 版本，需要注意以下修改：
  1. 路径分隔符需要从 `/` 改为 `\\`
  2. ffmpeg 和 ffprobe 的路径处理方式需要修改
  3. 可能需要调整界面布局以适应 Windows 系统
  4. 文件选择对话框的实现方式需要修改
  5. 环境变量的设置方式需要调整

## 使用说明

1. 运行应用程序：
   - Mac：双击 `视频抽帧工具.app`
   - Windows：运行 `视频抽帧工具.exe`

2. 选择输入视频文件

3. 选择输出路径

4. 设置帧间隔（每 N 帧保留 1 帧）

5. 点击"开始处理"按钮

## 注意事项

- 确保有足够的磁盘空间
- 处理大文件时可能需要较长时间
- 建议在处理前备份原始视频文件

## 常见问题

1. 如果提示找不到 ffmpeg：
   - Mac：确保已通过 brew 安装 ffmpeg
   - Windows：确保 ffmpeg 已添加到系统环境变量

2. 如果程序无法启动：
   - 检查 Python 版本是否符合要求
   - 检查是否已安装所有依赖包

## 技术支持

如有问题，请提交 Issue 或联系技术支持。 